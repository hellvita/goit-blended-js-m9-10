(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const r={form:document.querySelector("#task-form"),inputName:document.querySelector('[name="taskName"]'),inputDescription:document.querySelector('[name="taskDescription"]'),addBtn:document.querySelector(".js-add-button"),taskList:document.querySelector("#task-list"),themeToggle:document.querySelector("#themeToggle"),body:document.body},m="tasks",g="theme";function u(t){try{localStorage.setItem(m,JSON.stringify(t))}catch(e){console.log("Failed to save tasks:",e)}}function T(){try{const t=localStorage.getItem(m);if(!u)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.log("Failed to parse tasks from localStorage, resetting:",t),[]}}function h(t){localStorage.setItem(g,t)}function L(){return localStorage.getItem(g)||null}function S(){return`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,9)}`}let a=[];function v({title:t,description:e}){const o=(t||"").trim();if(!o)return alert("Title is required!");const s={id:S(),title:o,description:(e||"").trim(),createdAt:Date.now()};return a.unshift(s),s}function b(t){const e=a.findIndex(o=>o.id===t);return e===-1?!1:(a.splice(e,1),!0)}function E(t){a=Array.isArray(t)?t:[]}function f(){return a.slice()}function p(t){return`
      <li class="task-list-item" data-id="${t.id}">
        <button class="task-list-item-btn">Delete</button>
        <h3>${t.title}</h3>
        <p>${t.description}</p>
      </li>
  `}function A(t){const e=r.taskList.querySelector(`[data-id="${t}"]`);e&&e.remove()}function D(t){const e=p(t);r.taskList.insertAdjacentHTML("afterbegin",e)}function N(t){r.taskList.innerHTML="";const e=t.map(o=>p(o)).join("");r.taskList.insertAdjacentHTML("afterbegin",e)}const c="theme-dark",d="theme-light";function y(t){r.body.classList.remove(d,c),r.body.classList.add(t),h(t)}function q(){const t=L();y(t||c)}function I(){const e=(r.body.classList.contains(c)?c:d)===c?d:c;y(e)}q();const O=T();E(O);N(f());r.addBtn.addEventListener("click",k);r.inputName.addEventListener("keydown",M);r.taskList.addEventListener("click",H);r.themeToggle.addEventListener("click",()=>I());function k(t){t.preventDefault();try{const e=r.inputName.value,o=r.inputDescription.value,s=v({title:e,description:o});u(f()),D(s),r.form.reset()}catch(e){console.log(e)}}function M(t){t.key==="Enter"&&k(t)}function H(t){if(t.target.nodeName==="BUTTON"){const s=t.target.closest(".task-list-item").dataset.id;if(!s)return;b(s)&&(u(f()),A(s))}}
//# sourceMappingURL=index.js.map
