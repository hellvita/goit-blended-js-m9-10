(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const s={form:document.querySelector("#task-form"),inputName:document.querySelector('[name="taskName"]'),inputDescription:document.querySelector('[name="taskDescription"]'),taskList:document.querySelector("#task-list"),themeToggle:document.querySelector("#themeToggle"),body:document.body},f="tasks",g="theme",k=[{title:"meeting at 4:00 PM",description:"Kyiv Planetarium, main entrance (house-metro: 15 min, metro: 25 min, total: 40 min)"},{title:"call mom"}];function L(){return`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,9)}`}let a=[];function p({title:t,description:e}){const o=(t||"").trim();if(!o)return alert("Title is required!");const r={id:L(),title:o,description:(e||"").trim(),createdAt:Date.now()};return a.unshift(r),r}function S(t){const e=a.findIndex(o=>o.id===t);return e===-1?!1:(a.splice(e,1),!0)}function v(t){a=Array.isArray(t)?t:[]}function l(){return a.slice()}function y(t){return`
      <li class="task-list-item" data-id="${t.id}">
        <button class="task-list-item-btn">Delete</button>
        <h3>${t.title}</h3>
        <p>${t.description}</p>
      </li>
  `}function b(t){const e=s.taskList.querySelector(`[data-id="${t}"]`);e&&e.remove()}function T(t){const e=y(t);s.taskList.insertAdjacentHTML("afterbegin",e)}function E(t){s.taskList.innerHTML="";const e=t.map(o=>y(o)).join("");s.taskList.insertAdjacentHTML("afterbegin",e)}function u(t){try{localStorage.setItem(f,JSON.stringify(t))}catch(e){console.log("Failed to save tasks:",e)}}function A(){try{const t=localStorage.getItem(f);if(!u)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.log("Failed to parse tasks from localStorage, resetting:",t),[]}}function D(t){localStorage.setItem(g,t)}function N(){return localStorage.getItem(g)||null}function I(){let t=JSON.parse(localStorage.getItem(f))||[];t.length===0&&(t=k,t.forEach(e=>{const o=e.title,r=e.description,n=p({title:o,description:r});u(l()),T(n)}))}const c="theme-dark",m="theme-light";function h(t){s.body.classList.remove(m,c),s.body.classList.add(t),D(t)}function M(){const t=N();h(t||c)}function O(){const e=(s.body.classList.contains(c)?c:m)===c?m:c;h(e)}M();I();const q=A();v(q);E(l());s.form.addEventListener("submit",H);s.taskList.addEventListener("click",K);s.themeToggle.addEventListener("click",()=>O());function H(t){t.preventDefault();try{const e=s.inputName.value,o=s.inputDescription.value,r=p({title:e,description:o});u(l()),T(r),s.form.reset()}catch(e){console.log(e)}}function K(t){if(t.target.nodeName==="BUTTON"){const r=t.target.closest(".task-list-item").dataset.id;if(!r)return;S(r)&&(u(l()),b(r))}}
//# sourceMappingURL=index.js.map
